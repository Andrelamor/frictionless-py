language: python

python:
  - 2.7
  - 3.3
  - 3.4

install:
  - if [ "$VIRTUALENV_PYTHON" == "2.7" ]; then pip install -r requirements/test-py27.txt --use-mirrors; else pip install -r requirements/test.txt --use-mirrors; fi

before_script:
  - mkdir -p shippable/testresults
  - mkdir -p shippable/codecoverage

script:
  - PYTHONPATH=. py.test --cov tabular_validator --cov-config .coveragerc --cov-report xml --junitxml=shippable/testresults/tests.xml
