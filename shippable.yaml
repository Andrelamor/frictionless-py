language: python

python:
  - 2.7
  - 3.3
  - 3.4

install:
  - if ["$VIRTUALENV_PYTHON" == "2.7"]; then pip install -r test-py2.txt; else pip install -r test.txt; fi

before_script:
  - mkdir -p shippable/testresults
  - mkdir -p shippable/codecoverage

script:
  - PYTHONPATH=. py.test --cov tabular_validator --cov-config .coveragerc --cov-report xml --junitxml=shippable/testresults/tests.xml

notifications:
  email:
   - paulywalsh@gmail.com
